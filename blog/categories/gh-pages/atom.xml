<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: gh-pages | The Blog of Marc Gayle]]></title>
  <link href="http://marcgayle.com/blog/categories/gh-pages/atom.xml" rel="self"/>
  <link href="http://marcgayle.com/"/>
  <updated>2014-06-30T19:26:51-05:00</updated>
  <id>http://marcgayle.com/</id>
  <author>
    <name><![CDATA[Marc Gayle]]></name>
    <email><![CDATA[marc.gayle+blog@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Deploying octopress blog to an existing gh-pages static site]]></title>
    <link href="http://marcgayle.com/2013/09/21/deploying-octopress-blog-to-an-existing-gh-pages-static-site/"/>
    <updated>2013-09-21T05:17:00-05:00</updated>
    <id>http://marcgayle.com/2013/09/21/deploying-octopress-blog-to-an-existing-gh-pages-static-site</id>
    <content type="html"><![CDATA[<p>The issue I faced was that I have an <a href="http://5kmvp.com">existing static site</a> hosted on Github via <code>gh-pages</code>. That is just regular HTML/CSS/JS. It works perfectly.</p>

<p>But, I wanted to add an elegant Octopress blog to that same static site - so I can have both my company site &amp; blog hosted on Github's powerful hosting platform.</p>

<p>This is how I pulled it off.</p>

<ul>
<li>Get the folder of your static site all setup like normal. Get all the pathings right for your /img, /css, /js, etc.</li>
<li>Follow all the directions in the Octopress <a href="http://octopress.org/docs/setup/">setup</a> and <a href="http://octopress.org/docs/deploying/github/">deployment</a> guide.</li>
<li>Install the theme you want for Octopress (it is important to do this step before the rest of the steps, because everytime you install a theme it resets your index.html).</li>
<li>Follow <a href="http://octopress.org/docs/theme/template/#landing_page">these instructions</a> about moving your blog index page - make sure to update the Rakefile, per the instructions.</li>
<li>Then use these settings in your files:</li>
</ul>


<p><code>_config.yml</code> (you can customize all the other settings, but these worked for me)</p>

<pre><code>url: http://5kmvp.com
subscribe_rss: /atom.xml
root: /
permalink: /blog/:year/:month/:day/:title/
source: source
destination: public
category_dir: blog/categories
</code></pre>

<p>Rakefile</p>

<pre><code>public_dir      = "public"    # compiled site directory
source_dir      = "source"    # source file directory
blog_index_dir  = 'source/blog'    # directory for your blog's index page (if you put your index in source/blog/index.html, set this to 'source/blog')
</code></pre>

<p>Then once that is done, you copy your existing static site (with the exact structure that you setup earlier) into your <code>/octopress/source/</code> folder - so yours should look similar to <a href="https://github.com/marcamillion/5KMVP/tree/source/source">mine here</a>.</p>

<p>What you will notice is that now Octopress will publish to /blog (which is a subfolder called 'blog' in your 'source' folder).</p>

<p>Basically the way Octopress works is that at it's core, it copies everything from /source/ except for a few exceptions (all folders that start with <code>_</code>, etc.)</p>

<p>If you have any conflicts with your folders (e.g. if you have /img/ and Octopress has /images/) then just copy both if you don't want have to update your paths in all your HTML files. It's no big deal.</p>

<p>That's pretty much it.</p>

<p>Remember that <code>rake preview</code> and <code>rake generate</code> are your friends. Use them religiously.</p>

<p>If you have any issues with styling, then you may need to play around with some of the paths in the various variables in your <code>_config.yml</code> and <code>Rakefile</code> a bit. But you should't have to, because all of these values worked for me - and I did A LOT of playing around.</p>

<p><strong>Special Note: You should end up with your static site index.html in the root folder of the generated site - you can see the <a href="https://github.com/marcamillion/5KMVP/blob/source/source/index.html">source</a> here and the <a href="https://github.com/marcamillion/5KMVP/tree/gh-pages">generated version</a> here - and you should also have an octopress generated index in the <code>/blog/</code> subfolder - again...the <a href="https://github.com/marcamillion/5KMVP/blob/source/source/blog/index.html">source</a> here and <a href="https://github.com/marcamillion/5KMVP/blob/gh-pages/blog/index.html">generated version</a> here.</strong></p>

<p>You can always just look at <a href="https://github.com/marcamillion/5KMVP/tree/source/source">my entire source to see what I did</a>.</p>

<p>Most other setup &amp; deployment instructions apply and work fine (including remembering to include a CNAME file for your custom domain).</p>

<p>Whenever you want to change one of the static sites - i.e. a non-octopress file - then edit/update it locally and use <code>rake deploy</code> when you are done (as opposed to a <code>git push</code> like you would for a normal non-static site hosted on <code>gh-pages</code>).</p>

<p>Remember to backup your entire repo to a <code>source</code> or <code>master</code> branch or some other branch, so you can always revert to it if you mess stuff up.</p>

<p>Good luck and I hope this saves some poor soul from spending weeks trying to figure this out.</p>
]]></content>
  </entry>
  
</feed>
